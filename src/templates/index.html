<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Today's Weather</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>
    <section class="vh-100" style="background: #00008B;">
        <div class="container py-5 h-100">

            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-md-8 col-lg-6 col-xl-4">

                    <h3 class="mb-4 pb-2 fw-normal" style="color:white;">Check the weather</h3>
                    <form  method="post" action="">
                        {% csrf_token %} 
                        {% comment %} to ensure that the form which is submitting is form your website or not {% endcomment %}
                        <div class="input-group rounded mb-3">
                            <input type="search" class="form-control rounded" placeholder="City" name="city" aria-label="Search"
                                aria-describedby="search-addon" />
            
                            <button class="input-group-text border-0 fw-bold" type="submit" id="check"> Check!</button>
                        </div>
                    </form>
                    {%if weather_data%}
                        {%for weather in weather_data%}
                            {%if weather.cod != 200%}
                                <h3 class="mb-4 pb-2 fw-normal" style="color: white;">{{weather.message}}</h3>
                            {%else%}
                            <div class="card shadow-0 border" >
                                <div class="card-body p-4">
                                    <h4 class="mb-1 sfw-normal">{{weather.city}}</h4>
                                    <p class="mb-2">Current temperature: <strong>{{weather.temp}}°C</strong></p>
                                    <p>Feels like: <strong>{{weather.feels_like}}°C</strong></p>
                                    <p>Max: <strong>{{weather.temp_max}}°C</strong>, Min: <strong>{{weather.temp_min}}°C</strong></p>

                                    <div class="d-flex flex-row align-items-center">
                                        <p class="mb-0 me-4">{{weather.description}}</p>
                                        <i class="fas fa-cloud fa-3x" style="color: #eee;"></i>
                                    </div>
                                </div>
                            </div>
                            {%endif%}
                            {%endfor%}
                    {% else %} 
                        <div class="card shadow-0 border">
                            <div class="card-body p-4">
                
                            <h4 class="mb-1 sfw-normal">--</h4>
                            <p class="mb-2">Current temperature: <strong>--°C</strong></p>
                            <p>Feels like: <strong>--°C</strong></p>
                            <p>Max: <strong>--°C</strong>, Min: <strong>--°C</strong></p>
                
                            <div class="d-flex flex-row align-items-center">
                                <p class="mb-0 me-4">--</p>
                                <i class="fas fa-cloud fa-3x" style="color: #eee;"></i>
                            </div>
                        </div>
                    {%endif%} 
                   
                </div>
            </div>

        </div>

    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
        integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
        integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
        crossorigin="anonymous"></script>
</body>

</html>

